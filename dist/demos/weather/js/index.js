function getWeather(a){myAxios({url:"https://hmajax.itheima.net/api/weather",params:{city:a}}).then(a=>{const n=a.data;document.querySelector(".title").innerHTML=`\n      <span class="dateShort">${n.dateShort}</span>\n      <span class="calendar">农历&nbsp;\n        <span class="dateLunar">${n.dateLunar}</span>\n      </span>\n    `,document.querySelector(".area").innerHTML=n.area,document.querySelector(".weather-box").innerHTML=`\n      <div class="tem-box">\n        <span class="temp">\n          <span class="temperature">${n.temperature}</span>\n          <span>°</span>\n        </span>\n      </div>\n      <div class="climate-box">\n        <div class="air">\n          <span class="psPm25">${n.psPm25}</span>\n          <span class="psPm25Level">${n.psPm25Level}</span>\n        </div>\n        <ul class="weather-list">\n          <li>\n            <img src=${n.weatherImg} class="weatherImg" alt="">\n            <span class="weather">${n.weather}</span>\n          </li>\n          <li class="windDirection">${n.windDirection}</li>\n          <li class="windPower">${n.windPower}</li>\n        </ul>\n      </div>\n    `;const s=n.todayWeather;document.querySelector(".today-weather").innerHTML=`\n      <div class="range-box">\n        <span>今天：</span>\n        <span class="range">\n          <span class="weather">${s.weather}</span>\n          <span class="temNight">${s.temNight}</span>\n          <span>-</span>\n          <span class="temDay">${s.temDay}</span>\n          <span>℃</span>\n        </span>\n      </div>\n      <ul class="sun-list">\n        <li>\n          <span>紫外线</span>\n          <span class="ultraviolet">${s.ultraviolet}</span>\n        </li>\n        <li>\n          <span>湿度</span>\n          <span class="humidity">${s.humidity}</span>%\n        </li>\n        <li>\n          <span>日出</span>\n          <span class="sunriseTime">${s.sunriseTime}</span>\n        </li>\n        <li>\n          <span>日落</span>\n          <span class="sunsetTime">${s.sunsetTime}</span>\n        </li>\n      </ul>\n    `,document.querySelector(".week-wrap").innerHTML=n.dayForecast.map(a=>`\n        <li class="item">\n          <div class="date-box">\n            <span class="dateFormat">${a.dateFormat}</span>\n            <span class="date">${a.date}</span>\n          </div>\n          <img src=${a.weatherImg} alt="" class="weatherImg">\n          <span class="weather">${a.weather}</span>\n          <div class="temp">\n            <span class="temNight">${a.temNight}</span>-\n            <span class="temDay">${a.temDay}</span>\n            <span>℃</span>\n          </div>\n          <div class="wind">\n            <span class="windDirection">${a.windDirection}</span>\n            <span class="windPower">${a.windPower}</span>\n          </div>\n        </li>\n      `)})}localStorage.getItem("cityCode")?getWeather(localStorage.getItem("cityCode")):getWeather("110100"),document.querySelector(".search-city").addEventListener("input",a=>{myAxios({url:"https://hmajax.itheima.net/api/weather/city",params:{city:a.target.value}}).then(a=>{console.log(a.data),document.querySelector(".search-list").innerHTML=a.data.map(a=>`\n        <li class="city-item" data-code=${a.code}>${a.name}</li>\n      `).join("")})}),document.querySelector(".search-list").addEventListener("click",a=>{if(a.target.classList.contains("city-item")){const n=a.target.dataset.code;getWeather(n),localStorage.setItem("cityCode",n)}});